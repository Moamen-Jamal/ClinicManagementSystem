<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<form #f="ngForm" name="form" [formGroup]="form" (ngSubmit)="form.valid&&OnAdd()">
<div class="container" >
  

    <div class="row">
            <div class="form-group row" style="margin-top:7px;margin-left: 30px;">
                <label for="Name" class="col-4 col-form-label" style="text-align: left;">Name</label>
                <div class="col-8">
                  <input  type="Name" class="form-control" id="inputPassword"   style="margin-left: 10px;width: 200px;"
                  placeholder="Enter a name" [(ngModel)]="userData.name" name="name" 
                  [ngClass]="{'is-invalid':form.get('name')?.touched && form.get('name')?.invalid}"
                  required  formControlName="name" >
                  <!-- validiton message -->
                  
                   <div *ngIf="form.get('name')?.touched && form.get('name')?.invalid"
                    class="invalid-feedback">
                   <div *ngIf="form?.get('name')?.errors?.['required']">Name is Required</div>
                   <div *ngIf="form.get('name')?.errors?.['minlength']">Min length is {{form.get('name')?.errors?.['minlength'].requiredLength}}</div>
                   <div *ngIf="form.get('name')?.errors?.['maxlength']">Max length is {{form.get('name')?.errors?.['maxlength'].requiredLength}}</div>
                   <div *ngIf="form.get('name')?.errors?.['pattern']">Name is Required</div>
               </div>
                </div>
              </div>
              <div class="form-group row" style="margin-left: 30px;">
                <label for="Username" class="col-4 col-form-label" style="text-align: left;">Username</label>
                <div class="col-8">
                  <input type="Username" class="form-control" id="Username" placeholder="Enter a Username" style="margin-left: 2px;width: 200px;"
                  [(ngModel)]="userData.userName" [ngClass]="{'is-invalid':form.get('username')?.touched && form.get('username')?.invalid}"
                  required  formControlName="username" name="username">
                  <!-- validiton message -->
                  <div *ngIf="form.get('username')?.touched && form.get('username')?.invalid"
                    class="invalid-feedback">
                   <div *ngIf="form.get('username')?.errors?.['required']">UserName is Required</div>
                   <div *ngIf="form.get('username')?.errors?.['minlength']">Min length is {{form.get('username')?.errors?.['minlength'].requiredLength}}</div>
                   <div *ngIf="form.get('username')?.errors?.['maxlength']">Max length is {{form.get('username')?.errors?.['maxlength'].requiredLength}}</div>
                  
                </div>
              </div>
              <div class="form-group row">
                <label for="inputPassword" class="col-4 col-form-label" style="text-align: left;">Password</label>
                <div class="col-8">
                  <input type="password" class="form-control" id="inputPassword" placeholder="Password" style="margin-left: 3px;width: 200px;"
                   [(ngModel)]="userData.password" [ngClass]="{'is-invalid':form.get('password')?.touched && form.get('password')?.invalid}"
                   required  formControlName="password" name="password">
                   <!-- validiton message -->
                   <div *ngIf="form.get('password')?.touched && form.get('password')?.invalid"
                   class="invalid-feedback">
                  <div *ngIf="form?.get('password')?.errors?.['required']">Password is Required</div>
                  <div *ngIf="form.get('password')?.errors?.['minlength']">Min length is {{form.get('password')?.errors?.['minlength'].requiredLength}}</div>
                  <div *ngIf="form.get('password')?.errors?.['maxlength']">Max length is {{form.get('password')?.errors?.['maxlength'].requiredLength}}</div>
                   
                </div>
              </div>
              
            
              </div>
              <div class="form-group row">
                <label for="Email" class="col-4 col-form-label" style="text-align: left;">Email</label>
                <div class="col-8">
                  <input type="Email" class="form-control" id="Email" style="margin-left: 10px;width: 200px;" placeholder="Enter a valid Email"
                  [(ngModel)]="userData.email" [ngClass]="{'is-invalid':form.get('email')?.touched && form.get('email')?.invalid}"
                  required  formControlName="email" name="email">
                  <!-- validiton message -->
                  <div *ngIf="form.get('email')?.touched && form.get('email')?.invalid"
                   class="invalid-feedback">
                  <div *ngIf="form?.get('email')?.errors?.['required']">Email is Required</div>
                  <div *ngIf="form.get('email')?.errors?.['minlength']">Min length is {{form.get('email')?.errors?.['minlength'].requiredLength}}</div>
                  <div *ngIf="form.get('email')?.errors?.['maxlength']">Max length is {{form.get('email')?.errors?.['maxlength'].requiredLength}}</div>
                  <div *ngIf="form.get('email')?.errors?.['pattern']">Must be a Email</div>
                  
                </div>


                </div>
              </div>
              <div class="form-group row">
                <label for="Phone" class="col-4 col-form-label" style="text-align: left;">Phone</label>
                <div class="col-8">
                  <input type="Phone" class="form-control" id="Phone" placeholder="Enter a valid Phone" style="margin-left: 9px;width: 200px;"
                  [(ngModel)]="userData.phone" [ngClass]="{'is-invalid':form.get('phone')?.touched && form.get('phone')?.invalid}"
                  required  formControlName="phone" name="phone">
                  <!-- validiton message -->
                  <div *ngIf="form.get('phone')?.touched && form.get('phone')?.invalid"
                    class="invalid-feedback">
                  <div *ngIf="form.get('phone')?.errors?.['required']">phone is Required</div>
                  <div *ngIf="form.get('phone')?.errors?.['pattern']">Must be a Mobile Nubmer</div>
                  </div>
                </div>
              </div>
              
              <div class="form-group row">
                <label for="Photo" class="col-4 col-form-label" style="text-align: center;">Photo</label>
                <div class="col-8">
                    <div class="container1">
                        <div class="row">
                        <div class="col-6 imgUp" style="margin-left: 30px;">
                          <div class="imagePreview" >
                            <div *ngIf="userData.photo">
                              <img [src]="userData.photo ?  userData.photo : ''" style="width: 120px; height: 120px;
                              border-radius: 50%;">
                            </div>
                          </div>
                      <label class="btn btn-primary" style="width: 150px;height: 35px;margin-top: 2px;">
                     Browse
                     <input type="file" class="uploadFile img" (change)="onFileChange($event)" 
                     value="Browse" style="width: 0px;height: 0px;overflow: hidden;"
                     name="photo" formControlName="photo"
                    [ngClass]="{'is-invalid':form.get('photo')?.touched && form.get('photo')?.invalid}"
                    required>
                     <!-- validiton message -->
                     <div class="invalid-feedback">
                      <div>Photo is Required</div>
                  </div>

                     </label>
                     
                     <!-- validiton message -->
                     

                        </div><!-- col-2 -->
                        
                       </div><!-- row -->
                      </div><!-- container -->
                </div>
              </div>
    <div class="row">
        <button type="submit" class="addbtn"  [disabled]="f.invalid" [mat-dialog-close]>Add</button> 
    </div>
    <i style="font-size: 30px;" [mat-dialog-close] class="fa fa-arrow-circle-left"></i>
</div>
    </div>
</div>
</form>
